# Talend ETL

Java를 기반으로 한 ETL Tool

200여개의 데이터 처리 컴포넌트를 이용해 GUI화면에서 데이터 처리 흐름을 작성하는 Tool이다.

## 대표적으로 사용되는 컴포넌트

데이터베이스 입출력, 파일 입출력에 관한 기본적인 컴포넌트는 설명을 생략합니다.

Talend ETL을 이용한 개발업무시 자주 사용한 컴포넌트를 정리한 것 이므로, 더욱 자세한 사용법을 알고자 하시는 경우 공식 문서와 사이트를 참고해주세요.


#### 1. tAggregateRow

  ![컴포넌트 아이콘](img/tAggregateRow.png)
	
데이터를 집계하는 컴포넌트

합계, 평균, 최대값, 최소값 등 입력받은 데이터를 이용해 데이터집계를 실행한다.

기준이 되는 데이터, 집계되는 데이터, 각 데이터별 집계방법을 설정한다.

#### 2. tChangeFileEncoding

  ![컴포넌트 아이콘](img/tChangeFileEncoding.png)
	
파일의 인코딩을 변경하는 컴포넌트

파일과 인코딩방법을 설정하여 인코딩방법을 변경한 파일을 출력시킨다.

#### 3. tConvertType

  ![컴포넌트 아이콘](img/tConvertType.png)
	
데이터의 형태를 변경하는 컴포넌트

입력받은 데이터의 각 항목의 형태(숫자데이터, 문자데이터 등)를 변경시켜 출력시킨다.

그 외 사용법) 모든 항목(셀)에 숫자,문자 등 자유로운 입력이 가능한 Excel파일과 같은 경우, 각 항목에 지정된 형태에 맞는 데이터가 입력되었는지 핸들링을 할 때에 사용할 수 있다.

데이터 입력시 숫자 데이터를 문자형태로 입력(tFileInput에서 숫자로 지정한 항목에 문자데이터가 입력될경우 에러가 발생하기 때문에, Input에서는 전부 문자데이터로 입력을 받는다)받은 후, tConvertType에서 숫자형태로 변경시킨다. 이때 숫자항목에 문자데이터가 입력 될 경우 에러헨들링을 이용할 수 있다.


#### 4. tCreateTable

  ![컴포넌트 아이콘](img/tCreateTable.png)
	
데이터베이스에 테이블을 생성하는 컴포넌트

데이터를 만들기 전 우선적으로 테이블을 생성할 필요가 있는 경우 사용한다.


#### 5. tDenormalize

  ![컴포넌트 아이콘](img/tDenormalize.png)
	
입력받은 데이터를 지정한 기호를 이용해 하나의 데이터로 만드는 컴포넌트

복수row의 데이터를 입력받아 하나의 row로 합쳐준다. 이 때에 각 데이터를 끊어줄 기호를 지정(,;TAB등)한다. 또한 옵션에서 같은 데이터를 merge하도록 지정할 수 있다.


#### 6. tNormalize

  ![컴포넌트 아이콘](img/tNormalize.png)
	
입력받은 데이터를 지정한 기호를 이용해 잘라내는 컴포넌트

하나의 컬럼에 대해서 지정한 기호로 데이터를 잘라준다. 이 때 잘라진 데이터는 순서대로 데이터의 갯수만큼 row가 나누어저 생성돤다. (한개의 컬럼에 데이터의 수가 늘어남)
옵션을 통해 
1. 마지막에 빈칸이 있는경우 버리기 
2. 자른 데이터 중 중복된 데이터 버리기 
3. CSV파라메이터 사용 
4. 결과를 트리밍(여분의 스페이스 제거) 

를 지정할 수 있다.


#### 7. tExtractDelimitedFields

  ![컴포넌트 아이콘](img/tExtractDelimitedFileds.png)
	
입력받은 데이터를 지정한 기호를 이용해 잘라내는 컴포넌트

하나의 컬럼에 대해서 지정한 기호로 데이터를 잘라준다. 이 때 잘라진 데이터는 순서대로 데이터의 갯수만큼 컬럼이 생성돤다. (컬럼의 갯수가 늘어남)
미리 생성될 컬럼의 갯수만큼 컬럼을 설정할 필요가 있다.

옵션을 통해 
1. Null 데이터 무시하기
2. 결과를 트리밍(여분의 스페이스 제거) 
3. 단위자르기 기호 지정(1000단위로 ,입력, 소수점기호 등)

를 지정할 수 있다.


#### 8. tFileCopy

  ![컴포넌트 아이콘](img/tFileCopy.png)
	
파일을 복사하는 컴포넌트

폴더채로 복사가 가능하다.
복사한 파일의 파일명을 변경할 수 있다.
복사 후 기존 파일을 삭제할 수 있다.
이미 같은 이름의 파일이 존재하는 경우 파일을 덮어쓸 수 있다.

#### 9. tFileDelete

  ![컴포넌트 아이콘](img/tFileDelete.png)
	
파일을 삭제하는 컴포넌트

지정한 파일 또는 폴더를 삭제한다.

#### 10. tFileExist

  ![컴포넌트 아이콘](img/tFileExist.png)
	
파일이 존재하는지 확인하는 컴포넌트

확인하고자 하는 파일은 1개만 지정이 가능하다.
[tFileList],[tFileInput]와 연결해 지정한 디렉토리안에 있는 복수의 파일을 읽어들일때에, 읽어들이기 전에 디렉토리안의 파일을 하나씩 확인하며 읽어들이도록 설정할 수 있다.

#### 11. tFileList

  ![컴포넌트 아이콘](img/tFileList.png)
	
지정한 폴더안을 검색하여 리스트를 보여주는 컴포넌트

검색하고자 하는 디렉토리를 설정하여 그 안에 있는 서브폴더, 파일 등을 검색한다.
[tFileProperties],[tFileInput]와 연결해 파일의 종류(확정자를 확인해 판단)별로 List안의 모든 파일을 읽어들이도록 설정할 수 있다.

#### 12. tFileProperties

  ![컴포넌트 아이콘](img/tFileProperties.png)
	
지정한 파일의 정보를 보여주는 컴포넌트

지정한 파일의 프로파티를 확인하여 디렉토리명, 파일명, 사이즈, 갱신일 등의 정보를 데이터로 사용할 수 있게 해준다.

#### 13. tFilterColumns

  ![컴포넌트 아이콘](img/tFilterColumns.png)
	
입력받은 데이터에서 사용하고 싶은 항목(컬럼)을 줄여주는 컴포넌트

입력받은 항목(컬럼) 중애서 사용하고자 하는 항목만 out에 설정해 출력시킨다.

#### 14. tFilterRow

  ![컴포넌트 아이콘](img/tFilterRow.png)
	
조건을 지정해 데이터를 선별해주는 컴포넌트

SQL의 WHERE구와 비슷한 효과가 있다.
[Reject]를 이용하여 조건에 일치하지 않은 데이터를 사용할 수 도 있다.

#### 15. tFixedFlowInput

  ![컴포넌트 아이콘](img/tFixedFlowInput.png)
	
고정데이터를 생성해주는 컴포넌트

동적인 데이터가 아닌 고정된 데이터를 생성하고자 할 경우 사용한다.

예를들어, 
- 로그 출력시 정해진 메세지를 생성하고자 할 때 
- 데이터를 1개 추가하고자 할 때 
- 테스트용 데이터를 1건 생성하고자 할 때

#### 16. tFlowToIterate

  ![컴포넌트 아이콘](img/tFlowToIterate.png)
	
데이터를 1개(1row)씩 건내주며 처리하는 컴포넌트

입력받은 데이터를 자동적으로 1개씩 글로벌 변수에 등록해서 건내준다.

다음에 이어진 컴포넌트에 데이터를 1개씩 건내주기 때문에, 데이터를 한개씩 입력받아 갯수만큼 반복해서 처리하고 싶을때 사용한다.

#### 17. tHashInput/tHashOutput

  ![컴포넌트 아이콘](img/tHash.png)
	
데이터를 해쉬메모리에 일시적으로 보존시켜주는 컴포넌트

해쉬 메모리에 일시적으로 보존시키고 싶은 경우 데이터를 tHashOutput에 출력시켜 등록한다.

보존시킨 데이터는 tHashInput을 사용해 여러번 가져다 쓸 수 있다.

복수의 tHashOutput를 사용하는 경우 링크를 걸어 1개의 묶음으로 보존시킬 수 있다.

보존한 데이터를 더이상 사용하지 않는다면 마지막으로 tHashInput을 사용할 때에 옵션을 이용해 보존된 데이터를 삭제할 수 있다.

#### 18. tJava

  ![컴포넌트 아이콘](img/tJava.png)
	
Java코드를 작성할 수 있는 컴포넌트

자유롭게 Java 코드를 작성할 수 있다.

컴포넌트로 구현이 불가능한 처리를 진행하고자 할 경우 직접 Java코드를 작성해 프로그램에 등록할 수 있다.

#### 19. tJavaRow

  ![컴포넌트 아이콘](img/tJavaRow.png)
	
Java코드를 작성할 수 있는 컴포넌트

Input과 Output이 설정되어 있기 때문에 tJava보다 간단히 Java 코드를 작성할 수 있다.

#### 20. tJoin

  ![컴포넌트 아이콘](img/tJoin.png)
	
데이터를 결합시켜주는 컴포넌트

KEY를 정의해서 두개의 입력데이터를 1개로 결합시킨다.

복수의 입력데이터를 결합하고자 할 경우에는 tMap을 사용하는 편이 좋다.

#### 21. tPostjob

  ![컴포넌트 아이콘](img/tPostjob.png)
	
반드시 가장 마지막에 실행해야하는 처리를 설정하는 컴포넌트

가장 마지막에 실행하고자 하는 컴포넌트를 tPostjob컴포넌트에 연결시키는 것 만으로 전체 처리가 모두 끝난후에 연결된 컴포넌트를 실행시켜준다.

예를들어 데이터베이스 접속종료(close)와 같은 처리를 연결시킨다.

#### 22. tPrejob

  ![컴포넌트 아이콘](img/tPrejob.png)
	
반드시 가장 처음에 실행해야하는 처리를 설정하는 컴포넌트

가장 처음에 실행하고자 하는 컴포넌트를 tPrejob컴포넌트에 연결시키는 것 만으로 전체 처리가 실행되기 전에 연결된 컴포넌트를 실행시켜준다.

예를들어 데이터베이스 접속(connect)과 같은 처리를 연결시킨다.

#### 23. tReplace

  ![컴포넌트 아이콘](img/tReplace.png)
	
데이터를 치환시켜주는 컴포넌트

입력받은 데이터에서 특정 문자를 검색해서 설정한 문자로 치환시켜준다.

#### 24. tReplaceList

  ![컴포넌트 아이콘](img/tReplaceList.png)
	
치환리스트를 이용해 데이터를 치환시켜주는 컴포넌트

치환시키고 싶은 데이터와 치환리스트(치환 전 문자, 치환 후 문자 가 적혀있는 리스트)를 입력받아 리스트에 등록된 모든 조건으로 치환처리를 진행한다.

#### 25. tReplicate

  ![컴포넌트 아이콘](img/tReplicate.png)
	
입력받은 데이터를 복수 처리에 병렬처리 시켜주는 컴포넌트

하나의 데이터를 입력받아 복수의 출력을 시켜준다.

out를 여러번 연결시킬 수 있으며, 처음 연결한 처리부터 차례대로 병렬로 처리가 진행된다.

#### 26. tSchemaComplianceCheck

  ![컴포넌트 아이콘](img/tSchemaComplianceCheck.png)
	
입력받은 데이터를 체크해주는 컴포넌트

Null가능여부, 항목의 길이(데이터길이), 데이터타입 등을 지정해 입력받은 데이터를 체크한다.

지정한 값과 다른 데이터가 입력된 경우 에러를 발생시킬 수 있으며, 각 항목별로 출력되는 에러코드가 다르기 때문에 에러코드를 이용해 에러메세지를 설정할 수 있다.(따로 설정하지 않을 경우 영어로 메세지가 자동출력됨)

#### 27. tSetEnv

  ![컴포넌트 아이콘](img/tSetEnv.png)
	
입력받은 데이터를 변수에 등록시켜주는 컴포넌트

입력받은 데이터를 변수에 등록시켜준다.

변수는 컴포넌트에 수동으로 설정하기 때문에 처리에 필요한 항목(컬럼)만 변수에 등록할 수 있다.

옵션에서 데이터추가를 설정할 수 있으며, 추가를 설정할 경우 입력받은 데이터를 모아서 등록할 수 있다.

예) [숫자]라는 항목에 1,2,3,4,5의 데이터가 입력된경우

추가가 아닌 경우 : 마지막 데이터인 5가 등록됨 ( 1부터 차례되로 덮어씌워지며 등록되어 마지막 데이터인 5가 남음)

추가 인 경우 : [1,2,3,4,5]의 데이터가 등록됨(변수에 1부터 5까지 숫자가 추가되어 하나로 모아져 등록됨)

변수에 등록된 데이터를 사용할 경우 Ctrl+space의 리스트에서 선택이 불가능하기 때문에 [System.getProperty("변수명")]으로 입력해 사용해야한다.

#### 28. tSetGlobalVar

  ![컴포넌트 아이콘](img/tSetGlobalVar.png)
	
입력받은 데이터를 글로벌변수에 등록시켜주는 컴포넌트

1개의 변수에 1개의 데이터를 등록할 수 있다.

추가는 불가능하므로 복수row의 데이터가 입력된 경우 마지막으로 입력된 데이터가 등록된다.

데이터를 사용할 경우에는 Ctrl+space의 리스트에서 변수명을 찾아 선택해 사용할 수 있다.

#### 29. tSplitRow

  ![컴포넌트 아이콘](img/tSplitRow.png)
	
복수의 항목(컬럼)을 1개의 항목으로 바꿔주는 컴포넌트

옆으로 나열된 복수의 항목 중 1개의 항목으로 합치고 싶은 항목을 설정해 변경할 수 있다.

예를들어,
[ID,A,B,C,D]의 항목을 갖은 데이터가 입력된 경우

[ID, 조건, 값]으로 항목명을 변경,

[1,A,True],[2,B,False],[3,C,False],[4,D,True]와 같이 데이터를 변경하도록 설정할 수 있다.

#### 30. tSystem

  ![컴포넌트 아이콘](img/tSystem.png)
	
커맨드 명령어를 실행시켜주는 컴포넌트

커맨드 명령어를 설정해 실행할 수 있다.

#### 31. tUniqRow

  ![컴포넌트 아이콘](img/tUniqRow.png)
	
중복데이터를 제거해주는 컴포넌트

입력받은 데이터에서 중복된 데이터를 제거할 수 있다.

Reject를 사용해 중복된 데이터를 사용할 수 도 있다.

#### 32. tUnite

  ![컴포넌트 아이콘](img/tUnite.png)
	
데이터를 결합시켜주는 컴포넌트

같은 구성의 데이터를 복수 Input에서 받아 하나로 결합시켜준다.

반드시 입력된 데이터의 스키마정보가 전부 일치해야된다.
